@{
    ViewData["Title"] = "Schedule";
    Layout = null;
}

<div class="container-fluid p-4">
    <h4 class="mb-4">Schedule</h4>

    <div class="row">
        <div class="col-md-8">
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body p-0">
                    <table class="table table-bordered calendar-table mb-0">
                        <thead>
                            <tr class="text-center">
                                <th>SUNDAY</th>
                                <th>MONDAY</th>
                                <th>TUESDAY</th>
                                <th>WEDNESDAY</th>
                                <th>THURSDAY</th>
                                <th>FRIDAY</th>
                                <th>SATURDAY</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="height: 100px;">
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td class="text-center">1</td>
                                <td class="text-center">2</td>
                                <td class="text-center">3</td>
                            </tr>
                            <tr style="height: 100px;">
                                <td class="text-center">4</td>
                                <td class="text-center">5</td>
                                <td class="text-center">6</td>
                                <td class="text-center">7</td>
                                <td class="text-center">8</td>
                                <td class="text-center">9</td>
                                <td class="text-center">10</td>
                            </tr>
                            <tr style="height: 100px;">
                                <td class="text-center">11</td>
                                <td class="text-center">12</td>
                                <td class="text-center">13</td>
                                <td class="text-center">14</td>
                                <td class="text-center">15</td>
                                <td class="text-center">16</td>
                                <td class="text-center">17</td>
                            </tr>
                            <tr style="height: 100px;">
                                <td class="text-center">18</td>
                                <td class="text-center">19</td>
                                <td class="text-center">20</td>
                                <td class="text-center">21</td>
                                <td class="text-center">22</td>
                                <td class="text-center">23</td>
                                <td class="text-center">24</td>
                            </tr>
                            <tr style="height: 100px;">
                                <td class="text-center">25</td>
                                <td class="text-center">26</td>
                                <td class="text-center">27</td>
                                <td class="text-center">28</td>
                                <td class="text-center">29</td>
                                <td class="text-center">30</td>
                                <td class="text-center">31</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card border-0 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-4">Upcoming Events</h5>

                    <div class="event-item mb-3 pb-3 border-bottom">
                        <div class="d-flex">
                            <div class="event-color me-3" style="width: 5px; height: 50px; background-color: #4285f4;"></div>
                            <div>
                                <h6 class="mb-1">Community Meeting</h6>
                                <div class="text-muted">2:00 PM - 4:00 PM</div>
                                <div class="text-muted">Community Hall</div>
                            </div>
                        </div>
                    </div>

                    <div class="event-item mb-3 pb-3 border-bottom">
                        <div class="d-flex">
                            <div class="event-color me-3" style="width: 5px; height: 50px; background-color: #0f9d58;"></div>
                            <div>
                                <h6 class="mb-1">Pool Maintenance</h6>
                                <div class="text-muted">9:00 AM - 11:00 AM</div>
                                <div class="text-muted">Swimming Pool</div>
                            </div>
                        </div>
                    </div>

                    <div class="event-item">
                        <div class="d-flex">
                            <div class="event-color me-3" style="width: 5px; height: 50px; background-color: #db4437;"></div>
                            <div>
                                <h6 class="mb-1">Garden Clean-up</h6>
                                <div class="text-muted">9:00 AM - 11:00 AM</div>
                                <div class="text-muted">Swimming Pool</div>
                            </div>
                        </div>
                    </div>

                    <div class="d-grid mt-4">
                        <button class="btn btn-success" id="addEventBtn">+ Add Event</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Event Modal -->
<div class="modal fade" id="addEventModal" tabindex="-1" aria-labelledby="addEventModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addEventModalLabel">Add New Event</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addEventForm">
                    <div class="mb-3">
                        <label for="eventTitle" class="form-label">Event Title</label>
                        <input type="text" class="form-control" id="eventTitle" required>
                    </div>
                    <div class="mb-3">
                        <label for="eventLocation" class="form-label">Location</label>
                        <input type="text" class="form-control" id="eventLocation" required>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label for="eventDate" class="form-label">Date</label>
                            <input type="date" class="form-control" id="eventDate" required>
                        </div>
                        <div class="col">
                            <label for="eventColor" class="form-label">Color</label>
                            <select class="form-select" id="eventColor" required>
                                <option value="#4285f4" style="background-color: #4285f4; color: white;">Blue</option>
                                <option value="#0f9d58" style="background-color: #0f9d58; color: white;">Green</option>
                                <option value="#db4437" style="background-color: #db4437; color: white;">Red</option>
                                <option value="#f4b400" style="background-color: #f4b400; color: white;">Yellow</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label for="eventStart" class="form-label">Start Time</label>
                            <input type="time" class="form-control" id="eventStart" required>
                        </div>
                        <div class="col">
                            <label for="eventEnd" class="form-label">End Time</label>
                            <input type="time" class="form-control" id="eventEnd" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="eventDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="eventDescription" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">Add Event</button>
            </div>
        </div>
    </div>
</div>

<style>
    .calendar-table {
        table-layout: fixed;
    }

        .calendar-table th {
            background-color: #f9f9f9;
            font-size: 12px;
            font-weight: 600;
            padding: 10px;
        }

        .calendar-table td {
            vertical-align: top;
            padding: 8px;
            height: 100px;
        }

    .event-color {
        border-radius: 2px;
    }

    .event-item h6 {
        font-weight: 500;
    }
</style>

<script>
    $(document).ready(function() {
        // Initialize add event modal
        $("#addEventBtn").click(function() {
            $("#addEventModal").modal('show');
        });

        // Today's date highlight
        const today = new Date().getDate();
        $(".calendar-table td").each(function() {
            if ($(this).text().trim() == today) {
                $(this).addClass("bg-light");
            }
        });
    });
</script>