<!-- _ServiceRequest.cshtml -->
<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-md-8">
            <h2>Service Requests</h2>
        </div>
        <div class="col-md-4 text-end">
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addServiceRequestModal">
                <i class="bi bi-plus-circle"></i> New Service Request
            </button>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card text-white bg-danger">
                <div class="card-body">
                    <h5 class="card-title">12</h5>
                    <p class="card-text">Urgent Requests</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-warning">
                <div class="card-body">
                    <h5 class="card-title">20</h5>
                    <p class="card-text">Pending Requests</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-info">
                <div class="card-body">
                    <h5 class="card-title">15</h5>
                    <p class="card-text">In Progress</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-success">
                <div class="card-body">
                    <h5 class="card-title">45</h5>
                    <p class="card-text">Completed This Month</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search requests...">
                <button class="btn btn-outline-secondary" type="button">
                    <i class="bi bi-search"></i>
                </button>
            </div>
        </div>
        <div class="col-md-6 text-end">
            <div class="btn-group">
                <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">
                    Filter by Status
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">All Requests</a></li>
                    <li><a class="dropdown-item" href="#">Urgent</a></li>
                    <li><a class="dropdown-item" href="#">Pending</a></li>
                    <li><a class="dropdown-item" href="#">In Progress</a></li>
                    <li><a class="dropdown-item" href="#">Completed</a></li>
                </ul>
            </div>
            <div class="btn-group ms-2">
                <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">
                    Sort By
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Date (Newest)</a></li>
                    <li><a class="dropdown-item" href="#">Date (Oldest)</a></li>
                    <li><a class="dropdown-item" href="#">Priority (Highest)</a></li>
                    <li><a class="dropdown-item" href="#">Priority (Lowest)</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Service Requests Table -->
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Title</th>
                            <th>Resident</th>
                            <th>Unit</th>
                            <th>Submitted</th>
                            <th>Status</th>
                            <th>Priority</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#SR-1024</td>
                            <td>Broken Sprinkler System</td>
                            <td>John Smith</td>
                            <td>Unit 102</td>
                            <td>Apr 14, 2025</td>
                            <td><span class="badge bg-warning text-dark">Pending</span></td>
                            <td><span class="badge bg-danger">High</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#viewServiceRequestModal">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#SR-1023</td>
                            <td>Pool Maintenance Request</td>
                            <td>Maria Johnson</td>
                            <td>Unit 215</td>
                            <td>Apr 13, 2025</td>
                            <td><span class="badge bg-success">Completed</span></td>
                            <td><span class="badge bg-warning text-dark">Medium</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#SR-1022</td>
                            <td>Parking Lot Light Out</td>
                            <td>Robert Davis</td>
                            <td>Unit 148</td>
                            <td>Apr 12, 2025</td>
                            <td><span class="badge bg-info text-dark">In Progress</span></td>
                            <td><span class="badge bg-warning text-dark">Medium</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#SR-1021</td>
                            <td>Leaking Ceiling</td>
                            <td>Emily Johnson</td>
                            <td>Unit 172</td>
                            <td>Apr 11, 2025</td>
                            <td><span class="badge bg-danger">Urgent</span></td>
                            <td><span class="badge bg-danger">High</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#SR-1020</td>
                            <td>Landscaping Improvement</td>
                            <td>Michael Brown</td>
                            <td>Unit 309</td>
                            <td>Apr 10, 2025</td>
                            <td><span class="badge bg-warning text-dark">Pending</span></td>
                            <td><span class="badge bg-secondary">Low</span></td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-sm btn-outline-primary">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav aria-label="Service requests pagination">
                <ul class="pagination justify-content-center mt-4">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                    <li class="page-item active">
                        <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">2</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">3</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- View Service Request Modal -->
    <div class="modal fade" id="viewServiceRequestModal" tabindex="-1" aria-labelledby="viewServiceRequestModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewServiceRequestModalLabel">Service Request Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Request Information</h6>
                            <p><strong>Request ID:</strong> #SR-1024</p>
                            <p><strong>Title:</strong> Broken Sprinkler System</p>
                            <p><strong>Status:</strong> <span class="badge bg-warning text-dark">Pending</span></p>
                            <p><strong>Priority:</strong> <span class="badge bg-danger">High</span></p>
                            <p><strong>Submitted:</strong> Apr 14, 2025 at 10:32 AM</p>
                        </div>
                        <div class="col-md-6">
                            <h6>Resident Information</h6>
                            <p><strong>Name:</strong> John Smith</p>
                            <p><strong>Unit:</strong> 102</p>
                            <p><strong>Contact:</strong> john.smith@email.com<br>555-123-4567</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <h6>Description</h6>
                            <p>The sprinkler system near my unit is leaking and causing water to pool on the sidewalk. This has been happening for the last two days. The leak appears to be coming from a broken pipe connection. Please fix this as soon as possible as it's creating a slip hazard.</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <h6>Activity Log</h6>
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Apr 14, 2025 at 10:32 AM</h6>
                                    <p class="card-text">Request submitted by John Smith.</p>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Apr 14, 2025 at 11:15 AM</h6>
                                    <p class="card-text">Request assigned to Maintenance Team.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <div class="dropdown d-inline-block">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="updateStatusDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            Update Status
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="updateStatusDropdown">
                            <li><a class="dropdown-item" href="#">Mark as In Progress</a></li>
                            <li><a class="dropdown-item" href="#">Mark as Completed</a></li>
                            <li><a class="dropdown-item" href="#">Mark as Urgent</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
